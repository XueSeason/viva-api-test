{
  "suit": "注册设备并创建投票",
  "context": {
    "uid": "vivatest",
    "s": {
      "result": true
    }
  },
  "steps": [{
      "import": [
        "uid",
        "s.result"
      ],
      "desc": "注册设备",
      "method": "PUT",
      "host": "http://localhost:7001",
      "path": "/user",
      "body": {
        "uid": "${uid}"
      },
      "rule": {
        "result": "bool"
      },
      "equal": {
        "result": "${s.result}"
      },
      "context": {
        "token": "token"
      },
      "filter": {
        "md5": "body"
      }
    },
    {
      "import": [
        "uid"
      ],
      "desc": "上传投票信息",
      "method": "POST",
      "host": "http://localhost:7001",
      "path": "/vote",
      "body": {
        "uid": "${uid}",
        "title": "Which is the best?",
        "img": "xxxx.png"
      },
      "rule": {
        "data": {
          "type": "object",
          "rule": {
            "id": "int",
            "link": "string"
          }
        }
      },
      "equal": {
        "result": true
      },
      "context": {
        "voteId": "data.id"
      }
    },
    {
      "import": [
        "voteId"
      ],
      "desc": "获取投票详情",
      "method": "GET",
      "host": "http://localhost:7001",
      "path": "vote/${voteId}",
      "rule": {
        "data": {
          "type": "object",
          "rule": {
            "id": "int",
            "title": "string",
            "img": "string",
            "result": {
              "type": "array",
              "itemType": "int"
            },
            "type": [
              "lr",
              "rm"
            ]
          }
        }
      }
    }
  ]
}